{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santi\\\\Documents\\\\CLASSES\\\\2022-2023\\\\SPRING_2023\\\\CS_35L\\\\Group_Project\\\\E-commerce_App\\\\EcommerceApp\\\\ecommerceapp\\\\client\\\\src\\\\pages\\\\User\\\\Forms\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../UserProvider\";\nimport './SignIn.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [failedLoginMsg, setFailedLoginMsg] = useState('');\n  const navigate = useNavigate('');\n  const {\n    login,\n    logout,\n    user\n  } = useContext(UserContext);\n  const goToAccount = () => {\n    navigate(\"/account\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const insertingResponse = await axios.post('http://localhost:4000/api/insertUser', {\n        email,\n        firstName,\n        lastName,\n        password\n      });\n      if (insertingResponse.data) {\n        console.log('User registered successfully');\n        login(insertingResponse.data);\n        goToAccount();\n      } else {\n        console.log('User registration failed');\n        setFailedLoginMsg(\"Registration failed. Please try again.\");\n        setEmail(\"\"); // Clear the email input\n        emailInputRef.current.focus(); // Move the focus back to the email input field\n      }\n    } catch (error) {\n      console.error(\"Error registering user:\", error);\n      setFailedLoginMsg(\"Registration failed. User with the email used already exists. Please try again.\");\n      setEmail(\"\"); // Clear the email input\n      emailInputRef.current.focus(); // Move the focus back to the email input field\n    }\n  };\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loggedInUser\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Logged in as:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [user.firstName, \" \", user.lastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"email: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => logout(),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => goToAccount(),\n        children: \"Go to Account page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overallSignIn\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: failedLoginMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"register-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: firstName,\n          name: \"name\",\n          onChange: e => setFirstName(e.target.value),\n          id: \"name\",\n          placeholder: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: lastName,\n          name: \"name\",\n          onChange: e => setLastName(e.target.value),\n          id: \"name\",\n          placeholder: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          type: \"email\",\n          placeholder: \"youremail@email\",\n          id: \"email\",\n          name: \"email\",\n          ref: emailInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          placeholder: \"********\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"link-btn\",\n        onClick: goToLogin,\n        children: \"Already have an account? Login here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(Register, \"Txb0yAdSRbAVzAIiZPuqla73V8o=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","UserContext","axios","jsxDEV","_jsxDEV","Register","_s","email","setEmail","password","setPassword","firstName","setFirstName","lastName","setLastName","failedLoginMsg","setFailedLoginMsg","navigate","login","logout","user","goToAccount","handleSubmit","e","preventDefault","insertingResponse","post","data","console","log","emailInputRef","current","focus","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","value","name","onChange","target","id","placeholder","type","ref","goToLogin","_c","$RefreshReg$"],"sources":["C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/src/pages/User/Forms/Register.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useNavigate} from \"react-router-dom\";\nimport { UserContext } from \"../UserProvider\";\nimport './SignIn.css';\nimport axios from \"axios\";\n\nconst Register = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [failedLoginMsg, setFailedLoginMsg] = useState(''); \n    const navigate= useNavigate('');\n\n    const { login, logout, user } = useContext(UserContext);\n\n    const goToAccount = () => {\n        navigate(\"/account\")\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const insertingResponse = await axios.post('http://localhost:4000/api/insertUser', { email, firstName, lastName, password });\n            if (insertingResponse.data) {\n                console.log('User registered successfully');\n                login(insertingResponse.data);\n                goToAccount();\n            } \n            else {\n                console.log('User registration failed');\n                setFailedLoginMsg(\"Registration failed. Please try again.\");\n                setEmail(\"\"); // Clear the email input\n                emailInputRef.current.focus(); // Move the focus back to the email input field\n            }\n        } catch (error) {\n            console.error(\"Error registering user:\", error);\n            setFailedLoginMsg(\"Registration failed. User with the email used already exists. Please try again.\");\n            setEmail(\"\"); // Clear the email input\n            emailInputRef.current.focus(); // Move the focus back to the email input field\n        }\n    };\n    \n      \n    if (user) {\n        return (\n            <div className=\"loggedInUser\">\n                <h3>Logged in as:</h3>\n                <h4>{user.firstName} {user.lastName}</h4>\n                <p>email: {user.email}</p>\n                <button onClick={() => logout()}>Logout</button>\n                <button onClick={() => goToAccount()}>Go to Account page</button>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"overallSignIn\">\n            <div className=\"auth-form-container\">\n                <h2>Register</h2>\n                <p>{failedLoginMsg}</p>\n                <form className=\"register-form\" onSubmit={handleSubmit}>\n                    <label htmlFor=\"name\">First Name</label>\n                    <input value={firstName} name=\"name\" onChange={(e) => setFirstName(e.target.value)} id=\"name\" placeholder=\"First Name\" />\n                    <label htmlFor=\"name\">Last Name</label>\n                    <input value={lastName} name=\"name\" onChange={(e) => setLastName(e.target.value)} id=\"name\" placeholder=\"Last Name\" />\n                    <label htmlFor=\"email\">Email</label>\n                    <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"youremail@email\" id=\"email\" name=\"email\" ref={emailInputRef}/>\n                    <label htmlFor=\"password\">Password</label>\n                    <input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder=\"********\" id=\"password\" name=\"password\"/>\n                    <button type=\"submit\">Register</button>\n                </form>\n                <button className=\"link-btn\" onClick={goToLogin}>Already have an account? Login here.</button>\n            </div>\n        </div>\n    );\n};\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}