{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import SearchOutlinedIcon from\"@mui/icons-material/SearchOutlined\";import AccountCircleOutlinedIcon from\"@mui/icons-material/AccountCircleOutlined\";import GradeOutlinedIcon from\"@mui/icons-material/GradeOutlined\";import LocalMallOutlinedIcon from\"@mui/icons-material/LocalMallOutlined\";import\"./Navbar.css\";import Cart from\"../../pages/Cart/Cart\";import{CartContext}from\"../../pages/Cart/CartProvider\";import axios from\"axios\";import logo from\"../../images/CandyLand_Logo_Blue.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useContext=useContext(CartContext),getCartSize=_useContext.getCartSize;var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),candyProducts=_useState6[0],setCandyProducts=_useState6[1];var collections=[\"CandyBar\",\"CandyCorn\",\"CandyStick\"];var navigate=useNavigate(\"\");useEffect(function(){var fetchCandyProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:4000/api/products\");case 3:response=_context.sent;setCandyProducts(response.data);console.log(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error retrieving candy items:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchCandyProducts(){return _ref.apply(this,arguments);};}();fetchCandyProducts();},[]);var handleSearch=function handleSearch(item){setSearchQuery(item.name);navigate(\"/products/\".concat(collections[item.type-1],\"/\").concat(item.name,\"/reviews\"));};var filterCandyProducts=function filterCandyProducts(searchTerm){return candyProducts.filter(function(item){var itemName=item.name.toLowerCase();return itemName.includes(searchTerm.toLowerCase());});};var handleInputChange=function handleInputChange(e){var inputValue=e.target.value;setSearchQuery(inputValue);};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showOverlay=_useState8[0],setShowOverlay=_useState8[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"Navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:logo,alt:\"Candyland Logo\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"middle\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar\",onFocus:function onFocus(){return setShowOverlay(true);},onBlur:function onBlur(){return setShowOverlay(false);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchInput\",type:\"text\",value:searchQuery,onChange:handleInputChange,placeholder:\"Craving something more specific?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"searchButton\",children:/*#__PURE__*/_jsx(SearchOutlinedIcon,{className:\"searchIcon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"dropDownMenu\",children:filterCandyProducts(searchQuery).slice(0,5).map(function(item){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleSearch(item);},className:\"dropDownRow\",children:item.name.toUpperCase()},item.id);})})]}),showOverlay&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/AboutContact/About\",children:\"About\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/AboutContact/Contact\",children:\"Contact\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"icons\",children:[/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/account\",children:/*#__PURE__*/_jsx(AccountCircleOutlinedIcon,{})}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/account/favorites\",children:/*#__PURE__*/_jsx(GradeOutlinedIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartIcon\",onClick:function onClick(){return setOpen(!open);},children:[/*#__PURE__*/_jsx(LocalMallOutlinedIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:getCartSize()})]})]})]})]}),open&&/*#__PURE__*/_jsx(Cart,{})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","SearchOutlinedIcon","AccountCircleOutlinedIcon","GradeOutlinedIcon","LocalMallOutlinedIcon","Cart","CartContext","axios","logo","jsx","_jsx","jsxs","_jsxs","Navbar","_useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","searchQuery","setSearchQuery","_useContext","getCartSize","_useState5","_useState6","candyProducts","setCandyProducts","collections","navigate","fetchCandyProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","console","log","t0","error","stop","apply","arguments","handleSearch","item","name","concat","type","filterCandyProducts","searchTerm","filter","itemName","toLowerCase","includes","handleInputChange","e","inputValue","target","value","_useState7","_useState8","showOverlay","setShowOverlay","className","children","to","src","alt","onFocus","onBlur","onChange","placeholder","slice","map","onClick","toUpperCase","id"],"sources":["C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/src/components/Navbar/Navbar.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport SearchOutlinedIcon from \"@mui/icons-material/SearchOutlined\";\nimport AccountCircleOutlinedIcon from \"@mui/icons-material/AccountCircleOutlined\";\nimport GradeOutlinedIcon from \"@mui/icons-material/GradeOutlined\";\nimport LocalMallOutlinedIcon from \"@mui/icons-material/LocalMallOutlined\";\nimport \"./Navbar.css\";\nimport Cart from \"../../pages/Cart/Cart\";\nimport { CartContext } from \"../../pages/Cart/CartProvider\";\nimport axios from \"axios\";\nimport logo from \"../../images/CandyLand_Logo_Blue.png\";\n\nconst Navbar = () => {\n  const [open, setOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { getCartSize } = useContext(CartContext);\n  const [candyProducts, setCandyProducts] = useState([]);\n  const collections = [\"CandyBar\", \"CandyCorn\", \"CandyStick\"];\n  const navigate = useNavigate(\"\");\n\n  useEffect(() => {\n    const fetchCandyProducts = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:4000/api/products\");\n        setCandyProducts(response.data);\n        console.log(response.data);\n      } catch (error) {\n        console.error(\"Error retrieving candy items:\", error);\n      }\n    };\n\n    fetchCandyProducts();\n  }, []);\n\n  const handleSearch = (item) => {\n    setSearchQuery(item.name);\n    navigate(`/products/${collections[item.type - 1]}/${item.name}/reviews`);\n  };\n\n  const filterCandyProducts = (searchTerm) => {\n    return candyProducts.filter((item) => {\n      const itemName = item.name.toLowerCase();\n      return itemName.includes(searchTerm.toLowerCase());\n    });\n  };\n\n  const handleInputChange = (e) => {\n    const inputValue = e.target.value;\n    setSearchQuery(inputValue);\n  };\n\n  const [showOverlay, setShowOverlay] = useState(false);\n\n  return (\n    <div className=\"Navbar\">\n      <div className=\"wrapper\">\n        <div className=\"center\">\n          <div className=\"left\">\n            <Link className=\"link\" to=\"/\">\n              <img className=\"logo\" src={logo} alt=\"Candyland Logo\" />\n            </Link>\n          </div>\n        </div>\n        <div className=\"middle\">\n          {/* Search Bar */}\n          <div\n            className=\"searchBar\"\n            onFocus={() => setShowOverlay(true)}\n            onBlur={() => setShowOverlay(false)}\n          >\n            <input\n              className=\"searchInput\"\n              type=\"text\"\n              value={searchQuery}\n              onChange={handleInputChange}\n              placeholder=\"Craving something more specific?\"\n            />\n            <div className=\"searchButton\">\n              <SearchOutlinedIcon className=\"searchIcon\" />\n            </div>\n            <div className=\"dropDownMenu\">\n              {filterCandyProducts(searchQuery)\n                .slice(0, 5)\n                .map((item) => (\n                  <div\n                    onClick={() => handleSearch(item)}\n                    className=\"dropDownRow\"\n                    key={item.id}\n                  >\n                    {item.name.toUpperCase()}\n                  </div>\n                ))}\n            </div>\n          </div>\n          {/* Overlay */}\n          {showOverlay && <div className=\"overlay\"></div>}\n        </div>\n        <div className=\"right\">\n          <div className=\"item\">\n            <Link className=\"link\" to=\"/AboutContact/About\">\n              About\n            </Link>\n          </div>\n          <div className=\"item\">\n            <Link className=\"link\" to=\"/AboutContact/Contact\">\n              Contact\n            </Link>\n          </div>\n          <div className=\"icons\">\n            <Link className=\"link\" to=\"/account\">\n              <AccountCircleOutlinedIcon />\n            </Link>\n            <Link className=\"link\" to=\"/account/favorites\">\n              <GradeOutlinedIcon />\n            </Link>\n            <div className=\"cartIcon\" onClick={() => setOpen(!open)}>\n              <LocalMallOutlinedIcon />\n              <span>{getCartSize()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      {open && <Cart />}\n    </div>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}