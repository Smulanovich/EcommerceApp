{"ast":null,"code":"import _slicedToArray from\"C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./Cart.css\";import DeleteOutlinedIcon from\"@mui/icons-material/DeleteOutlined\";import{CartContext}from\"./CartProvider\";import{UserContext}from\"../User/UserProvider\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Cart=function Cart(){var _useContext=useContext(CartContext),cartItems=_useContext.cartItems,calculateTotalAmount=_useContext.calculateTotalAmount,clearCart=_useContext.clearCart,removeFromCart=_useContext.removeFromCart,incrementItem=_useContext.incrementItem,decrementItem=_useContext.decrementItem;var _useContext2=useContext(UserContext),user=_useContext2.user;console.log(cartItems);var navigate=useNavigate();var GoToCheckoutForm=function GoToCheckoutForm(){if(!user){console.log('User not logged in');alert('Please login to checkout');navigate('/account');return;}if(cartItems.length===0){return;}navigate(\"/checkout\");};var handleDelete=function handleDelete(name){removeFromCart(name);};var handleResetCart=function handleResetCart(){clearCart();};var handleIncrement=function handleIncrement(name){incrementItem(name);};var handleDecrement=function handleDecrement(name){decrementItem(name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"total\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"SUBTOTAL: $\",calculateTotalAmount()]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"checkout\",onClick:function onClick(){return GoToCheckoutForm();},children:\"PROCEED TO CHECKOUT\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"reset\",onClick:handleResetCart,children:\"Reset Cart\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Products in your cart:\"}),cartItems===null||cartItems===void 0?void 0:cartItems.map(function(_ref){var _ref2=_slicedToArray(_ref,2),item=_ref2[0],quantity=_ref2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image_address,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"name\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"$\",item.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"subtract\",onClick:function onClick(){return handleDecrement(item.name);},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-number\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"add\",onClick:function onClick(){return handleIncrement(item.name);},children:\"+\"})]})]}),/*#__PURE__*/_jsx(DeleteOutlinedIcon,{className:\"delete\",onClick:function onClick(){return handleDelete(item.name);}})]},item.id);})]});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","DeleteOutlinedIcon","CartContext","UserContext","jsxs","_jsxs","jsx","_jsx","Cart","_useContext","cartItems","calculateTotalAmount","clearCart","removeFromCart","incrementItem","decrementItem","_useContext2","user","console","log","navigate","GoToCheckoutForm","alert","length","handleDelete","name","handleResetCart","handleIncrement","handleDecrement","className","children","onClick","map","_ref","_ref2","_slicedToArray","item","quantity","src","image_address","alt","price","id"],"sources":["C:/Users/santi/Documents/CLASSES/2022-2023/SPRING_2023/CS_35L/Group_Project/E-commerce_App/EcommerceApp/ecommerceapp/client/src/pages/Cart/Cart.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Cart.css\";\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\nimport { CartContext } from \"./CartProvider\";\nimport { UserContext } from \"../User/UserProvider\";\n\nconst Cart = () => {\n  const { cartItems, calculateTotalAmount, clearCart, removeFromCart, incrementItem, decrementItem } = useContext(CartContext);\n  const { user } = useContext(UserContext);\n  console.log(cartItems);\n\n  const navigate = useNavigate();\n\n  const GoToCheckoutForm = () => {\n    if (!user) {\n      console.log('User not logged in');\n      alert('Please login to checkout');\n      navigate('/account');\n      return;\n    }\n    if (cartItems.length === 0) {\n      return;\n    }\n    navigate(\"/checkout\");\n  };\n\n  const handleDelete = (name) => {\n    removeFromCart(name);\n  };\n\n  const handleResetCart = () => {\n    clearCart();\n  };\n\n  const handleIncrement = (name) => {\n    incrementItem(name);\n  };\n\n  const handleDecrement = (name) => {\n    decrementItem(name);\n  };\n\n  return (\n    <div className=\"cart\">\n      <div className=\"total\">\n        <span>SUBTOTAL: ${calculateTotalAmount()}</span>\n      </div>\n      <div className=\"buttons\">\n        <button>\n          <span className=\"checkout\" onClick={() => GoToCheckoutForm()}>\n            PROCEED TO CHECKOUT\n          </span>\n        </button>\n        <span className=\"reset\" onClick={handleResetCart}>\n          Reset Cart\n        </span>\n      </div>\n      <h1>Products in your cart:</h1>\n      {cartItems?.map(([item, quantity]) => (\n        <div className=\"item\" key={item.id}>\n          <img src={item.image_address} alt=\"\" />\n          <div className=\"details\">\n            <h1 className=\"name\">{item.name}</h1>\n            <div className=\"price\">${item.price}</div>\n            <div className=\"quantity\">\n              <button className=\"subtract\" onClick={() => handleDecrement(item.name)}>\n                -\n              </button>\n              <span className=\"quantity-number\">{quantity}</span>\n              <button className=\"add\" onClick={() => handleIncrement(item.name)}>\n                +\n              </button>\n            </div>\n          </div>\n          <DeleteOutlinedIcon\n            className=\"delete\"\n            onClick={() => handleDelete(item.name)}\n          />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}